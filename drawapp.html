<!DOCTYPE html>
<html lang="en">
<head>
<style>
body {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
height: 100vh;
margin: 0;
}

canvas {
border: 2px solid #f90ac5;
 }

 button {
margin-top: 10px;
padding: 8px 16px;
font-size: 16px;
cursor: pointer;
        }
    </style>
</head>
<body>
    <canvas id="drawCanvas" width="300" height="300"></canvas>
    <button onclick="removeCanvas()">Remove</button>
    <button onclick="undo()">Undo</button>
    <input type="color" id="colorPicker" onchange="changeColor(this.value)">
<script>
const canvas = document.getElementById('drawCanvas');
 const ctx = canvas.getContext('2d');
 let isDrawing = false;
let points = [];
let colors = ['#000000']; 
let currentColor = colors[0];

canvas.addEventListener('mousedown', startDrawing);
canvas.addEventListener('mousemove', draw);
canvas.addEventListener('mouseup', stopDrawing);
canvas.addEventListener('mouseout', stopDrawing);

function startDrawing(e) {
isDrawing = true;
 points.push([]);
ctx.beginPath();
 ctx.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
}

function draw(e) {
if (!isDrawing) return;

const x = e.clientX - canvas.offsetLeft;
const y = e.clientY - canvas.offsetTop;
points[points.length - 1].push({ x, y });

ctx.lineTo(x, y);
ctx.strokeStyle = currentColor;
ctx.lineWidth = 2;
ctx.lineJoin = 'round';
ctx.lineCap = 'round';
ctx.stroke();
 }

function stopDrawing() {
 isDrawing = false;
}
function removeCanvas() {
 ctx.clearRect(0, 0, canvas.width, canvas.height);
points = [];
}

function undo() {
if (points.length > 0) {
points.pop();
ctx.clearRect(0, 0, canvas.width, canvas.height);

for (const path of points) {
ctx.beginPath();
                    ctx.moveTo(path[0].x, path[0].y);

                    for (const point of path) {
                        ctx.lineTo(point.x, point.y);
                    }

                    ctx.strokeStyle = currentColor;
                    ctx.lineWidth = 2;
                    ctx.lineJoin = 'round';
                    ctx.lineCap = 'round';
                    ctx.stroke();
                }
            }
        }

        function changeColor(color) {
            currentColor = color;
        }
    </script>
</body>
</html>
